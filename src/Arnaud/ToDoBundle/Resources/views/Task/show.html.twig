{% extends '::base.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('bundles/arnaudtodo/css/bootstrap-datetimepicker.min.css') }}"/>
{% endblock %}

{% block body %}
<form role="form" method="post" action="{{ path('task.edit', {'taskId': task.id }) }}">
	<a class="btn btn-default" href="{{ path('tasks') }}">
		<span class="glyphicon glyphicon-chevron-left"></span> Back to tasks
	</a>
	<button class="btn btn-primary" type="submit">
		<span class="glyphicon glyphicon-floppy-disk"></span> Save
	</button>
	<a class="btn btn-default btn-danger rest" data-method="DELETE" href="{{ path('task.delete', { 'taskId': task.id }) }}">
		<span class="glyphicon glyphicon-remove"></span> Delete this task
	</a>
	<hr/>

	<div class="row">
		<div class="col-md-6">
			<div class="form-group">
				<label for="title">Title</label>
		    	<input class="form-control" type="text" id="title" name="title"  value="{{ task.title }}">
			</div>
			<div class="form-group">
				<label for="end-date">End date</label>
				<div class='input-group date' id='end-date'>
					<input name='end-date' type='text' class="form-control" data-date-format="DD/MM/YYYY" value="{{ task.endDate|date('d/m/Y') }}"/>
					<span class="input-group-addon">
			  			<span class="glyphicon glyphicon-calendar"></span>
					</span>
				</div>
		  	</div>
		</div>
		<div class="col-md-6">
			<div class="form-group">
				<label for="description">Description</label>
				<textarea class="form-control" id="description" name="description" rows="4">{{ task.description }}</textarea>
			</div>
		</div>
	</div>
</form>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script type="text/javascript" src='{{ asset('bundles/arnaudtodo/js/lib/moment.js') }}'></script>
    <script type="text/javascript" src='{{ asset('bundles/arnaudtodo/js/lib/bootstrap-datetimepicker.js') }}'></script>
    <script type="text/javascript" src='{{ asset('bundles/arnaudtodo/js/lib/jquery.restfulizer.js') }}'></script>
    <script type="text/javascript" src='{{ asset('bundles/arnaudtodo/js/datepicker.js') }}'></script>
    <script type="text/javascript" src='{{ asset('bundles/arnaudtodo/js/restful.js') }}'></script>
{% endblock %}
